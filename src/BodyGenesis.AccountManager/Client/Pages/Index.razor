@page "/"

@inject NavigationManager NavigationManager

@code
{
    [CascadingParameter]
    Task<AuthenticationState> AuthenticationState { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationState;

        NavigationManager.NavigateTo($"/customers/{System.Net.WebUtility.UrlEncode(authState.User.GetClaimValue("sub"))}?$axis=auth0UserId");
    }
}
